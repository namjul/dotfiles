#!/bin/bash

kernel_name=`uname`
brew=$([ kernel_name == 'Dargin' ] && echo 'Homebrew' || echo 'Linuxbrew')

# Check for brew and install if needed

which brew
if [[ $? != 0 ]] ; then
  echo "Installing $brew ..."
  if [ $kernel_name == 'Darwin' ]; then
    # Install Homebrew
    yes | ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
  elif [ $kernel_name == 'Linux' ]; then
    # Install Linuxrew
    yes | sh -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)"
  else
    error "Error: Git is required."
    exit
  fi
else
  echo "$brew already installed ..."
fi

# Make sure weâ€™re using the latest Homebrew
brew update

# Upgrade any already-installed formular
brew upgrade

# Install GNU core utilities (those that come with OS X are outdated)
brew install coreutils

# Install GNU `find`, `locate`, `updatedb`, and `xargs`, g-prefixed
brew install findutils

# Install Bash 4
brew install bash

# Install wget
brew install wget

# neovim
brew install python3
brew install neovim
pip2 install neovim
pip3 install neovim

# fzf
brew install fzf
yes | $(brew --prefix)/opt/fzf/install

# tmux
brew install tmux

# git
brew install cdiff
brew install git
brew install diff-so-fancy

# rust
brew install fd
brew install bat
brew install starship
brew install exa
brew install ripgrep # Ripgrep - fzf/vim is configured to use this
brew install procs
brew install sd
brew install dust
brew install tokei
brew install tealdeer
brew install bandwhich
brew install grex
brew install zoxide
brew install nushell
brew install lf # list-files, ranger replacement
brew tap clementtsang/bottom
brew install bottom

# Install everything else
brew install tree
brew install python
brew install xclip
brew install wmctrl
brew install httpie
brew install fish
brew install github/gh/gh
brew install asciinema
brew install translate-shell
brew install asdf

# Remove outdated versions from the cellar
brew cleanup
